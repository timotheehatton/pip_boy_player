function volume_control(){var e=20,l;player.el.volume_more.addEventListener("mousedown",function(r){l=Math.round(1e3*player.el.video.volume)/1e3,l<1&&(player.el.video.volume=l+.1,e+=10,player.el.volume_bar.style.transform="rotate("+e+"deg)",player.el.volume_wheel.style.transform="rotate("+1.5*e+"deg)"),r.preventDefault()}),player.el.volume_less.addEventListener("mousedown",function(r){l=Math.round(1e3*player.el.video.volume)/1e3,l>0&&(player.el.video.volume=l-.1,e-=10,player.el.volume_bar.style.transform="rotate("+e+"deg)",player.el.volume_wheel.style.transform="rotate("+1.5*e+"deg)"),r.preventDefault()})}var player={};player.el={},player.el.container=document.querySelector(".pipboy"),player.el.video=player.el.container.querySelector("video"),player.el.controls_bottom=player.el.container.querySelector(".pipboy--base--square--bottom--protection--controls"),player.el.toggle_play=player.el.controls_bottom.querySelector(".pipboy--base--square--bottom--protection--controls--button--1"),player.el.toggle_replay=player.el.controls_bottom.querySelector(".pipboy--base--square--bottom--protection--controls--button--2"),player.el.toggle_muted=player.el.controls_bottom.querySelector(".pipboy--base--square--bottom--protection--controls--button--3"),player.el.screen_controls=player.el.container.querySelector(".pipboy--base--square--screenborder--screen--controls"),player.el.progress_bar=player.el.screen_controls.querySelector(".pipboy--base--square--screenborder--screen--controls--progress"),player.el.progress_bar_full=player.el.screen_controls.querySelector(".pipboy--base--square--screenborder--screen--controls--progress--bar"),player.el.time=player.el.screen_controls.querySelector(".pipboy--base--square--screenborder--screen--controls--time"),player.el.toggle_full_screen=player.el.screen_controls.querySelector(".pipboy--base--square--screenborder--screen--controls--fullscreen"),player.el.base_controls=player.el.container.querySelector(".pipboy--base--controls"),player.el.volume_more=player.el.base_controls.querySelector(".pipboy--base--controls--volume--indicator--more"),player.el.volume_less=player.el.base_controls.querySelector(".pipboy--base--controls--volume--indicator--less"),player.el.volume_bar=player.el.base_controls.querySelector(".pipboy--base--controls--volume--indicator--bar"),player.el.volume_wheel=player.el.base_controls.querySelector(".pipboy--base--controls--volume--wheel"),player.el.qualitie_1080p=player.el.base_controls.querySelector(".pipboy--base--controls--qualities--txt--1"),player.el.qualitie_720p=player.el.base_controls.querySelector(".pipboy--base--controls--qualities--txt--2"),player.el.qualitie_540p=player.el.base_controls.querySelector(".pipboy--base--controls--qualities--txt--3"),player.el.qualitie_360p=player.el.base_controls.querySelector(".pipboy--base--controls--qualities--txt--4"),player.el.wheel_line=player.el.base_controls.querySelector(".pipboy--base--controls--selector--lines"),player.el.toggle_play.addEventListener("click",function(e){player.el.video.paused?player.el.video.play():player.el.video.pause(),e.preventDefault()}),player.el.video.addEventListener("play",function(){player.el.container.classList.add("playing")}),player.el.video.addEventListener("pause",function(){player.el.container.classList.remove("playing")}),player.el.toggle_muted.addEventListener("click",function(e){player.el.video.muted?player.el.video.muted=!1:player.el.video.muted=!0,e.preventDefault()}),player.el.video.addEventListener("volumechange",function(){player.el.video.muted||0===player.el.video.volume?player.el.container.classList.add("muted"):player.el.container.classList.remove("muted")}),player.el.toggle_replay.addEventListener("click",function(e){player.el.video.currentTime=0,e.preventDefault()}),player.el.toggle_full_screen.addEventListener("click",function(e){player.el.video.requestFullscreen?player.el.video.requestFullscreen():player.el.video.mozRequestFullScreen?player.el.video.mozRequestFullScreen():player.el.video.webkitRequestFullscreen&&player.el.video.webkitRequestFullscreen(),e.preventDefault()});var progress_mouse_over,progress_mouse_down;player.el.progress_bar.addEventListener("mouseenter",function(e){progress_mouse_over=!0}),player.el.progress_bar.addEventListener("mouseleave",function(e){progress_mouse_over=!1}),document.addEventListener("mousedown",function(e){progress_mouse_over&&(progress_mouse_down=!0)}),document.addEventListener("mouseup",function(e){progress_mouse_down=!1}),document.addEventListener("mousemove",function(e){var l=player.el.progress_bar.offsetWidth,r=player.el.container.offsetLeft,o=e.clientX,t=(o-r+113)/l,a=t*player.el.video.duration;progress_mouse_down&&(player.el.video.currentTime=a),e.preventDefault()}),player.el.progress_bar.addEventListener("mousedown",function(e){var l=player.el.progress_bar.offsetWidth,r=player.el.container.offsetLeft,o=e.clientX,t=(o-r+113)/l,a=t*player.el.video.duration;player.el.video.currentTime=a,e.preventDefault()});var update_progress_bar=function(){var e=player.el.video.duration,l=player.el.video.currentTime,r=l/e,o="0"+Math.floor(e/60),t="0"+Math.floor(e%60),a=o.substr(-2)+":"+t.substr(-2),s="0"+Math.floor(l/60),n="0"+Math.floor(l%60),p=s.substr(-2)+":"+n.substr(-2);player.el.time.innerText=p+" / "+a,player.el.progress_bar_full.style.transform="scaleX("+r+")",requestAnimationFrame(update_progress_bar)};requestAnimationFrame(update_progress_bar),volume_control(),player.el.qualitie_1080p.addEventListener("click",function(e){var l=player.el.video.currentTime;player.el.video.setAttribute("src","videos/fallout_720.mp4"),player.el.wheel_line.style.transform="translateY(0px)",player.el.container.classList.add("q1080"),player.el.container.classList.remove("q720"),player.el.container.classList.remove("q540"),player.el.container.classList.remove("q360"),player.el.video.played&&player.el.video.play(),player.el.video.currentTime=l,e.preventDefault()}),player.el.qualitie_720p.addEventListener("click",function(e){var l=player.el.video.currentTime;player.el.video.setAttribute("src","videos/fallout_720.mp4"),player.el.wheel_line.style.transform="translateY(20px)",player.el.container.classList.add("q720"),player.el.container.classList.remove("q1080"),player.el.container.classList.remove("q540"),player.el.container.classList.remove("q360"),player.el.video.played&&player.el.video.play(),player.el.video.currentTime=l,e.preventDefault()}),player.el.qualitie_540p.addEventListener("click",function(e){var l=player.el.video.currentTime;player.el.video.setAttribute("src","videos/fallout_360.mp4"),player.el.wheel_line.style.transform="translateY(40px)",player.el.container.classList.add("q540"),player.el.container.classList.remove("q720"),player.el.container.classList.remove("q1080"),player.el.container.classList.remove("q360"),player.el.video.played&&player.el.video.play(),player.el.video.currentTime=l,e.preventDefault()}),player.el.qualitie_360p.addEventListener("click",function(e){var l=player.el.video.currentTime;player.el.video.setAttribute("src","videos/fallout_360.mp4"),player.el.wheel_line.style.transform="translateY(60px)",player.el.container.classList.add("q360"),player.el.container.classList.remove("q720"),player.el.container.classList.remove("q540"),player.el.container.classList.remove("q1080"),player.el.video.played&&player.el.video.play(),player.el.video.currentTime=l,e.preventDefault()}),document.addEventListener("keypress",function(e){!player.el.video.paused||32!=e.keyCode&&112!=e.keyCode?!player.el.video.play||32!=e.keyCode&&112!=e.keyCode?player.el.video.muted&&109==e.keyCode?player.el.video.muted=!1:player.el.video.muted===!1&&109==e.keyCode&&(player.el.video.muted=!0):player.el.video.pause():player.el.video.play(),e.preventDefault()});